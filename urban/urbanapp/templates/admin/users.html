{% extends "admin/base.html" %}
{% load static %}
{% block content %}

        <div class="page-wrapper page-settings">
            <div class="content">
                <div class="content-page-header content-page-headersplit">
                    <h5>Users</h5>
                    <div class="list-btn">
                        <ul>
                            <li>
                                <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#add-user"><i class="fa fa-plus me-2"></i>Add User</button>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 ">
                        <div class="table-resposnive">
                            <table class="table datatable">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Name</th>
                                        <th>Mobile</th>
                                        <th>Role</th>
                                        <th>Last Activity</th>
                                        <th>Created</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
								<tbody>
									{% for user in users %}
									<tr>
										<td>{{ forloop.counter }}</td>
										<td class="table-namesplit">
											<a href="javascript:void(0);" class="table-profileimage">
												{% comment %} Replace with user's avatar if available {% endcomment %}
												<img src="{% static 'assetss/img/customer/user-01.jpg' %}" class="me-2" alt="img">
											</a>
											<a href="javascript:void(0);" class="table-name">
												<span>{{ user.get_full_name|default:user.username }}</span>
												<p>{{ user.email }}</p>
											</a>
										</td>
										<td>{{ user.profile.phone|default:"-" }}</td>
										<td>{% if user.is_staff %}Administrator{% else %}Customer{% endif %}</td>
										<td>{% if user.last_login %}{{ user.last_login|timesince }} ago{% else %}-{% endif %}</td>
										<td>{{ user.date_joined|date:"d M Y" }}</td>
										<td>{% if user.is_active %}<h6 class="badge-active">Active</h6>{% else %}<h6 class="badge-inactive">Inactive</h6>{% endif %}</td>
										<td>
											<div class="table-actions d-flex">
												<a class="btn delete-table me-2" href="#" data-bs-toggle="modal" data-bs-target="#edit-user">
												   <i class="fe fe-edit"></i>
												</a>
												<a class="btn delete-table" href="#" data-bs-toggle="modal" data-bs-target="#delete-user">
													<i class="fe fe-trash-2"></i>
												</a>
											</div>
										</td>
									</tr>
									{% empty %}
									<tr>
										<td colspan="8" class="text-center">No users found.</td>
									</tr>
									{% endfor %}
								</tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

	<!-- Add User -->
    <div class="modal fade" id="add-user">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Add User</h5>
					<button type="button" class="btn-close close-modal" data-bs-dismiss="modal" aria-label="Close">
						<i class="fe fe-x"></i>
					</button>
				</div>
				<div class="modal-body pt-0">
					<form>
						<div class="profile-upload mb-3">
							<div class="profile-upload-img">
								<img src="{% static 'assetss/img/customer/user-01.jpg' %}" alt="img" id="blah">
							</div>
							<div class="profile-upload-content">
								<div class="profile-upload-btn">
									<div class="profile-upload-file">
										<input type="file" id="imgInp">
										<a href="javascript:void(0);" class="btn btn-upload">Upload</a>
									</div>
									<a href="javascript:void(0);" class="btn btn-remove">Remove</a>
								</div>
								<div class="profile-upload-para">
									<p>* Recommends a minimum size of 320 x 320 pixels. Allowed files .png and .jpg.</p>
								</div>
							</div>
						</div>
						<div class="mb-3">
							<label class="form-label">Name</label>
							<input type="text" class="form-control">
						</div>
						<div class="mb-3">
							<label class="form-label">Username</label>
							<input type="text" class="form-control">
						</div>
						<div class="mb-3">
							<label class="form-label">Email</label>
							<input type="text" class="form-control">
						</div>
						<div class="mb-3">
							<label class="form-label">Phone</label>
							<input type="text" class="form-control">
						</div>
						<div class="mb-3">
							<label class="form-label">Current Password</label>
							<div class="pass-group">
								<input type="password" class="form-control pass-input">
								<span class="fas toggle-password fa-eye-slash"></span>
							</div>
						</div>
						<div class="mb-3">
							<label class="form-label">New Password</label>
							<div class="pass-group">
								<input type="password" class="form-control pass-inputs">
								<span class="fas toggle-passwords fa-eye-slash"></span>
							</div>
						</div>
						<div class="mb-3">
							<label class="form-label">Role</label>
							<select class="select">
								<option>Admin</option>
								<option>Super Admin</option>
							</select>
						</div>
						<div class="form-groupheads d-flex d-flex justify-content-between mb-4">
							<h2>Status</h2>
							<div class="active-switch">
								<label class="switch">
									<input type="checkbox" checked="">
									<span class="sliders round"></span>
								</label>
							</div>
						</div>
						<div class="text-end">
							<button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
							<button type="submit" class="btn btn-primary">Save</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- /Add User -->

	<!-- Edit User -->
    <div class="modal fade" id="edit-user">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Edit User</h5>
					<button type="button" class="btn-close close-modal" data-bs-dismiss="modal" aria-label="Close">
						<i class="fe fe-x"></i>
					</button>
				</div>
				<div class="modal-body pt-0">
					<form>
						<div class="profile-upload mb-3">
							<div class="profile-upload-img">
								<img src="{% static 'assetss/img/customer/user-01.jpg' %}" alt="img" id="blah">
							</div>
							<div class="profile-upload-content">
								<div class="profile-upload-btn">
									<div class="profile-upload-file">
										<input type="file" id="imgInp">
										<a href="javascript:void(0);" class="btn btn-upload">Upload</a>
									</div>
									<a href="javascript:void(0);" class="btn btn-remove">Remove</a>
								</div>
								<div class="profile-upload-para">
									<p>* Recommends a minimum size of 320 x 320 pixels. Allowed files .png and .jpg.</p>
								</div>
							</div>
						</div>
						<div class="mb-3">
							<label class="form-label">Name</label>
							<input type="text" class="form-control" value="Admin">
						</div>
						<div class="mb-3">
							<label class="form-label">Username</label>
							<input type="text" class="form-control" value="admin">
						</div>
						<div class="mb-3">
							<label class="form-label">Email</label>
							<input type="text" class="form-control" value="admin@example.com">
						</div>
						<div class="mb-3">
							<label class="form-label">Phone</label>
							<input type="text" class="form-control" value="518-837-9258">
						</div>
						<div class="mb-3">
							<label class="form-label">Current Password</label>
							<div class="pass-group">
								<input type="password" class="form-control pass-input">
								<span class="fas toggle-password fa-eye-slash"></span>
							</div>
						</div>
						<div class="mb-3">
							<label class="form-label">New Password</label>
							<div class="pass-group">
								<input type="password" class="form-control pass-inputs">
								<span class="fas toggle-passwords fa-eye-slash"></span>
							</div>
						</div>
						<div class="mb-3">
							<label class="form-label">Role</label>
							<select class="select">
								<option>Admin</option>
								<option>Super Admin</option>
							</select>
						</div>
						<div class="form-groupheads d-flex d-flex justify-content-between mb-4">
							<h2>Status</h2>
							<div class="active-switch">
								<label class="switch">
									<input type="checkbox" checked="">
									<span class="sliders round"></span>
								</label>
							</div>
						</div>
						<div class="text-end">
							<button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
							<button type="submit" class="btn btn-primary">Save Changes</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- /Edit User -->

	<!-- Delete User -->
	<div class="modal fade" id="delete-user">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body pt-0">
                    <div class="text-center">
                        <i class="fe fe-trash-2 text-danger fs-1"></i>
						<div class="mt-4">
                            <h4>Delete User?</h4>
                            <p class="text-muted mb-0">Are you sure want to delete this?</p>
                        </div>
                    </div>
                    <div class="d-flex gap-2 justify-content-center mt-4">
                        <button type="button" class="btn w-sm btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn w-sm btn-danger">Yes, Delete It!</button>
                    </div>
                </div>
			</div>
		</div>
	</div>
    <!-- /Delete User -->
{% endblock %}